webpackJsonp([0],{pBSs:function(t,n,e){"use strict";function l(t){return Error('Unable to find icon with the name "'+t+'"')}function i(t){return Error("The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was \""+t+'".')}function o(t,n,e){return t||new it(n,e)}function s(t){return t.cloneNode(!0)}function r(t,n){return t+":"+n}function u(t){return w._21(2,[w._12(null,0)],null,null)}function a(t){return w._21(2,[(t()(),w._1(0,0,null,null,34,"article",[["class","item-view-container"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n  "])),(t()(),w._1(2,0,null,null,3,"header",[["class","item-header"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n    "])),w._12(null,0),(t()(),w._19(-1,null,["\n  "])),(t()(),w._19(-1,null,["\n  "])),(t()(),w._1(7,0,null,null,6,"div",[["class","image-outer"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n    "])),(t()(),w._1(9,0,null,null,3,"div",[["class","image-container"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n      "])),w._12(null,1),(t()(),w._19(-1,null,["\n    "])),(t()(),w._19(-1,null,["\n  "])),(t()(),w._19(-1,null,["\n  "])),(t()(),w._1(15,0,null,null,18,"div",[["class","bottom-content"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n    "])),(t()(),w._1(17,0,null,null,13,"div",[["class","actions"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n      "])),(t()(),w._1(19,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,u,rt)),w._0(20,638976,null,0,ot,[w.k,it,[8,null]],null,null),(t()(),w._19(-1,0,["thumb_up"])),(t()(),w._19(-1,null,["\n      "])),(t()(),w._1(23,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,u,rt)),w._0(24,638976,null,0,ot,[w.k,it,[8,null]],null,null),(t()(),w._19(-1,0,["thumb_down"])),(t()(),w._19(-1,null,["\n      "])),(t()(),w._1(27,0,null,null,2,"mat-icon",[["class","mat-icon"],["role","img"]],null,null,null,u,rt)),w._0(28,638976,null,0,ot,[w.k,it,[8,null]],null,null),(t()(),w._19(-1,0,["comment"])),(t()(),w._19(-1,null,["\n    "])),(t()(),w._19(-1,null,["\n    "])),w._12(null,2),(t()(),w._19(-1,null,["\n  "])),(t()(),w._19(-1,null,["\n"])),(t()(),w._19(-1,null,["\n"]))],function(t,n){t(n,20,0),t(n,24,0),t(n,28,0)},null)}function c(t){t.subscriber.clearThrottle()}function h(t){return w._21(0,[(t()(),w._1(0,0,null,null,3,null,null,null,null,null,null,null)),(t()(),w._19(-1,null,["\n          "])),w._12(null,0),(t()(),w._19(-1,null,["\n        "]))],null,null)}function p(t){return w._21(0,[(t()(),w._1(0,0,null,null,5,null,null,null,null,null,null,null)),(t()(),w._19(-1,null,["\n        "])),(t()(),w.W(16777216,null,null,2,null,h)),w._0(3,540672,null,0,k.n,[w.L],{ngTemplateOutletContext:[0,"ngTemplateOutletContext"],ngTemplateOutlet:[1,"ngTemplateOutlet"]},null),w._15(4,{$implicit:0}),(t()(),w._19(-1,null,["\n      "]))],function(t,n){var e=n.component;t(n,3,0,t(n,4,0,n.context.$implicit),e.currentItem)},null)}function f(t){return w._21(2,[w._17(402653184,1,{scrollableArea:0}),(t()(),w._1(1,0,[[1,0],["scrollableArea",1]],null,10,"div",[["class","scrollable-area"]],null,[[null,"scroll"]],function(t,n,e){var l=!0;return"scroll"===n&&(l=!1!==t.component.onScroll$.emit(e)&&l),l},null,null)),(t()(),w._19(-1,null,["\n  "])),(t()(),w._1(3,0,null,null,7,"div",[["class","runway"]],[[4,"height",null]],null,null,null,null)),(t()(),w._19(-1,null,["\n    "])),(t()(),w._1(5,0,null,null,4,"div",[["class","view-port"]],[[4,"transform",null]],null,null,null,null)),(t()(),w._19(-1,null,["\n      "])),(t()(),w.W(16777216,null,null,1,null,p)),w._0(8,802816,null,0,k.j,[w.L,w.I,w.q],{ngForOf:[0,"ngForOf"]},null),(t()(),w._19(-1,null,["\n    "])),(t()(),w._19(-1,null,["\n  "])),(t()(),w._19(-1,null,["\n"])),(t()(),w._19(-1,null,["\n"]))],function(t,n){t(n,8,0,n.component.visibleItems)},function(t,n){var e=n.component;t(n,3,0,e.runwayHeight+"px"),t(n,5,0,"translate(0,"+e.topPosition+"px)")})}function d(t){let n=null,e=null;return{memoized:function(){if(!n)return e=t.apply(null,arguments),n=arguments,e;for(let l=0;l<arguments.length;l++)if(arguments[l]!==n[l])return e=t.apply(null,arguments),n=arguments,e;return e},reset:function(){n=null,e=null}}}function _(...t){let n=t;if(Array.isArray(n[0])){const[t,...e]=n;n=[...t,...e]}const e=n.slice(0,n.length-1),l=n[n.length-1],i=e.filter(t=>t.release&&"function"==typeof t.release),o=d(function(...t){return l.apply(null,t)}),s=d(function(t){const n=e.map(n=>n(t));return o.memoized.apply(null,n)});return Object.assign(s.memoized,{release:function(){s.reset(),o.reset(),i.forEach(t=>t.release())},projector:o.memoized})}function m(t){return w._21(0,[(t()(),w._1(0,0,null,null,1,"img",[["appItemViewImage",""]],[[8,"src",4],[8,"className",0]],null,null,null,null)),w._0(1,16384,null,0,x,[],null,null)],null,function(t,n){t(n,0,0,n.parent.context.$implicit.previewImageUrl,w._13(n,1).classes)})}function g(t){return w._21(0,[(t()(),w._19(-1,null,["\n      "])),(t()(),w._1(1,0,[[2,0],["contentItem",1]],null,31,"div",[],null,null,null,null,null)),(t()(),w._19(-1,null,["\n        "])),(t()(),w._1(3,0,null,null,28,"app-item-view",[],null,null,null,a,ut)),w._0(4,114688,null,0,F,[],null,null),(t()(),w._19(-1,2,["\n          "])),(t()(),w._1(6,0,null,0,8,"div",[["appItemViewAuthor",""]],[[8,"className",0]],null,null,null,null)),w._0(7,16384,null,0,S,[],null,null),(t()(),w._19(-1,null,["\n            "])),(t()(),w._1(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),w._19(10,null,["",""])),(t()(),w._19(-1,null,["\n            "])),(t()(),w._1(12,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),w._19(13,null,["",""])),(t()(),w._19(-1,null,["\n          "])),(t()(),w._19(-1,2,["\n          "])),(t()(),w.W(16777216,[[1,2]],1,1,null,m)),w._0(17,16384,null,0,k.k,[w.L,w.I],{ngIf:[0,"ngIf"]},null),(t()(),w._19(-1,2,["\n          "])),(t()(),w._1(19,0,null,2,3,"div",[["appItemViewVotes",""]],[[8,"className",0]],null,null,null,null)),w._0(20,16384,null,0,E,[],null,null),(t()(),w._19(21,null,[""," upvotes"])),w._16(22,1),(t()(),w._19(-1,2,["\n          "])),(t()(),w._1(24,0,null,2,2,"div",[["appItemViewTitle",""]],[[8,"className",0]],null,null,null,null)),w._0(25,16384,null,0,C,[],null,null),(t()(),w._19(26,null,["",""])),(t()(),w._19(-1,2,["\n          "])),(t()(),w._1(28,0,null,2,2,"div",[["appItemViewComments",""]],[[8,"className",0]],null,null,null,null)),w._0(29,16384,null,0,O,[],null,null),(t()(),w._19(30,null,["View all "," comments"])),(t()(),w._19(-1,2,["\n        "])),(t()(),w._19(-1,null,["\n      "])),(t()(),w._19(-1,null,["\n    "]))],function(t,n){t(n,4,0),t(n,17,0,n.context.$implicit.previewImageUrl)},function(t,n){t(n,6,0,w._13(n,7).classes),t(n,10,0,n.context.$implicit.subreddit),t(n,13,0,n.context.$implicit.author),t(n,19,0,w._13(n,20).classes),t(n,21,0,w._20(n,21,0,t(n,22,0,w._13(n.parent,0),n.context.$implicit.score))),t(n,24,0,w._13(n,25).classes),t(n,26,0,n.context.$implicit.title),t(n,28,0,w._13(n,29).classes),t(n,30,0,n.context.$implicit.numOfcomments)})}function v(t){return w._21(0,[w._14(0,k.e,[w.s]),(t()(),w._1(1,0,null,null,10,"div",[["class","listings"]],null,null,null,null,null)),(t()(),w._19(-1,null,["\n  "])),(t()(),w._1(3,0,null,null,7,"app-virtual-scroller",[],null,[[null,"loadMore"]],function(t,n,e){var l=!0;return"loadMore"===n&&(l=!1!==t.component.onLoadMore()&&l),l},f,vt)),w._0(4,638976,null,2,gt,[],{items:[0,"items"]},{loadMore:"loadMore"}),w._17(603979776,1,{currentItem:0}),w._17(603979776,2,{children:1}),w._14(131072,k.b,[w.h]),(t()(),w._19(-1,0,["\n    "])),(t()(),w.W(0,[[1,2]],0,0,null,g)),(t()(),w._19(-1,0,["\n  "])),(t()(),w._19(-1,null,["\n"])),(t()(),w._19(-1,null,["\n"]))],function(t,n){var e=n.component;t(n,4,0,w._20(n,4,0,w._13(n,7).transform(e.listing$)))},null)}function y(t,n){switch(void 0===t&&(t=Tt),n.type){case b.LIST_COMPLETE:var e=void 0;return n.payload.length&&(e=n.payload[n.payload.length-1].name),jt({},t,{listings:t.listings.concat(n.payload),continuationToken:e});default:return t}}Object.defineProperty(n,"__esModule",{value:!0});var b,w=e("LMZF"),I=function(){},S=function(){this.classes="author"},x=function(){this.classes="image"},C=function(){this.classes="title"},E=function(){this.classes="votes"},O=function(){this.classes="comments"},F=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),k=e("Un6q"),j=new w.o("cdk-dir-doc"),T=function(){return function(t){this.value="ltr",this.change=new w.m,t&&(this.value=(t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr")}}(),A=function(){},L=e("6Xbx"),N=(e("TO51"),e("RyBE")),M=("undefined"!=typeof Intl&&Intl,new w.o("mat-sanity-checks")),R=function(){function t(t){this._sanityChecksEnabled=t,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._hasDoneGlobalChecks=!0)}return t.prototype._areChecksEnabled=function(){return this._sanityChecksEnabled&&Object(w.R)()&&!this._isTestEnv()},t.prototype._isTestEnv=function(){return this._window&&(this._window.__karma__||this._window.jasmine)},t.prototype._checkDoctypeIsDefined=function(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")},t.prototype._checkThemeIsPresent=function(){if(this._document&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var n=getComputedStyle(t);n&&"none"!==n.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}},t.prototype._checkHammerIsAvailable=function(){!this._hasCheckedHammer&&this._window&&(this._areChecksEnabled()&&!this._window.Hammer&&console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)},t}(),U=e("pXwq"),H=e("wORZ"),V=e("nihM"),P=e("E9/g"),D=e("qLnt"),$=function(){function t(t){this.callback=t}return t.prototype.call=function(t,n){return n.subscribe(new z(t,this.callback))},t}(),z=function(t){function n(n,e){t.call(this,n),this.add(new D.a(e))}return Object(L.c)(n,t),n}(P.a),q=e("qqDE"),G=e("eIqN"),W=e("9iV4"),B=e("AP4T"),Z=e("Ecq+"),J=e("1j/l"),X=e("qgI0"),K=e("lI6h"),Y=function(t){function n(n,e){t.call(this),this.sources=n,this.resultSelector=e}return Object(L.c)(n,t),n.create=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(null===t||0===arguments.length)return new Z.a;var l=null;return"function"==typeof t[t.length-1]&&(l=t.pop()),1===t.length&&Object(J.a)(t[0])&&(t=t[0]),0===t.length?new Z.a:new n(t,l)},n.prototype._subscribe=function(t){return new Q(t,this.sources,this.resultSelector)},n}(B.a),Q=function(t){function n(n,e,l){t.call(this,n),this.sources=e,this.resultSelector=l,this.completed=0,this.haveValues=0;var i=e.length;this.total=i,this.values=new Array(i);for(var o=0;o<i;o++){var s=e[o],r=Object(X.a)(this,s,null,o);r&&(r.outerIndex=o,this.add(r))}}return Object(L.c)(n,t),n.prototype.notifyNext=function(t,n,e,l,i){this.values[e]=n,i._hasValue||(i._hasValue=!0,this.haveValues++)},n.prototype.notifyComplete=function(t){var n=this.destination,e=this.haveValues,l=this.resultSelector,i=this.values,o=i.length;if(t._hasValue){if(this.completed++,this.completed===o){if(e===o){var s=l?l.apply(this,i):i;n.next(s)}n.complete()}}else n.complete()},n}(K.a),tt=Y.create,nt=e("GZB0"),et=e("ZWUB"),lt=function(t){this.url=t,this.svgElement=null},it=function(){function t(t,n){this._httpClient=t,this._sanitizer=n,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons"}return t.prototype.addSvgIcon=function(t,n){return this.addSvgIconInNamespace("",t,n)},t.prototype.addSvgIconInNamespace=function(t,n,e){var l=r(t,n);return this._svgIconConfigs.set(l,new lt(e)),this},t.prototype.addSvgIconSet=function(t){return this.addSvgIconSetInNamespace("",t)},t.prototype.addSvgIconSetInNamespace=function(t,n){var e=new lt(n),l=this._iconSetConfigs.get(t);return l?l.push(e):this._iconSetConfigs.set(t,[e]),this},t.prototype.registerFontClassAlias=function(t,n){return void 0===n&&(n=t),this._fontCssClassesByAlias.set(t,n),this},t.prototype.classNameForFontAlias=function(t){return this._fontCssClassesByAlias.get(t)||t},t.prototype.setDefaultFontSetClass=function(t){return this._defaultFontSetClass=t,this},t.prototype.getDefaultFontSetClass=function(){return this._defaultFontSetClass},t.prototype.getSvgIconFromUrl=function(t){var n=this,e=this._sanitizer.sanitize(w.E.RESOURCE_URL,t);if(!e)throw i(t);var l=this._cachedIconsByUrl.get(e);return l?Object(nt.a)(s(l)):this._loadSvgIconFromConfig(new lt(t)).pipe(Object(V.a)(function(t){return n._cachedIconsByUrl.set(e,t)}),Object(q.a)(function(t){return s(t)}))},t.prototype.getNamedSvgIcon=function(t,n){void 0===n&&(n="");var e=r(n,t),i=this._svgIconConfigs.get(e);if(i)return this._getSvgFromConfig(i);var o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(t,o):Object(et.a)(l(e))},t.prototype._getSvgFromConfig=function(t){return t.svgElement?Object(nt.a)(s(t.svgElement)):this._loadSvgIconFromConfig(t).pipe(Object(V.a)(function(n){return t.svgElement=n}),Object(q.a)(function(t){return s(t)}))},t.prototype._getSvgFromIconSetConfigs=function(t,n){var e=this,i=this._extractIconWithNameFromAnySet(t,n);if(i)return Object(nt.a)(i);var o=n.filter(function(t){return!t.svgElement}).map(function(t){return e._loadSvgIconSetFromConfig(t).pipe(Object(H.a)(function(n){var l=e._sanitizer.sanitize(w.E.RESOURCE_URL,t.url);return console.log("Loading icon set URL: "+l+" failed: "+n),Object(nt.a)(null)}),Object(V.a)(function(n){n&&(t.svgElement=n)}))});return tt(o).pipe(Object(q.a)(function(){var i=e._extractIconWithNameFromAnySet(t,n);if(!i)throw l(t);return i}))},t.prototype._extractIconWithNameFromAnySet=function(t,n){for(var e=n.length-1;e>=0;e--){var l=n[e];if(l.svgElement){var i=this._extractSvgIconFromSet(l.svgElement,t);if(i)return i}}return null},t.prototype._loadSvgIconFromConfig=function(t){var n=this;return this._fetchUrl(t.url).pipe(Object(q.a)(function(t){return n._createSvgElementForSingleIcon(t)}))},t.prototype._loadSvgIconSetFromConfig=function(t){var n=this;return this._fetchUrl(t.url).pipe(Object(q.a)(function(t){return n._svgElementFromString(t)}))},t.prototype._createSvgElementForSingleIcon=function(t){var n=this._svgElementFromString(t);return this._setSvgAttributes(n),n},t.prototype._extractSvgIconFromSet=function(t,n){var e=t.querySelector("#"+n);if(!e)return null;var l=e.cloneNode(!0);if(l.id="","svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l));var i=this._svgElementFromString("<svg></svg>");return i.appendChild(l),this._setSvgAttributes(i)},t.prototype._svgElementFromString=function(t){var n=document.createElement("DIV");n.innerHTML=t;var e=n.querySelector("svg");if(!e)throw Error("<svg> tag not found");return e},t.prototype._toSvgElement=function(t){for(var n=this._svgElementFromString("<svg></svg>"),e=0;e<t.childNodes.length;e++)t.childNodes[e].nodeType===Node.ELEMENT_NODE&&n.appendChild(t.childNodes[e].cloneNode(!0));return n},t.prototype._setSvgAttributes=function(t){return t.getAttribute("xmlns")||t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),t},t.prototype._fetchUrl=function(t){var n=this;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");var e=this._sanitizer.sanitize(w.E.RESOURCE_URL,t);if(!e)throw i(t);var l=this._inProgressUrlFetches.get(e);if(l)return l;var o=this._httpClient.get(e,{responseType:"text"}).pipe(function(t){return function(n){return n.lift(new $(t))}}(function(){return n._inProgressUrlFetches.delete(e)}),Object(G.a)());return this._inProgressUrlFetches.set(e,o),o},t}(),ot=function(t){function n(n,e,l){var i=t.call(this,n)||this;return i._iconRegistry=e,l||n.nativeElement.setAttribute("aria-hidden","true"),i}return Object(L.c)(n,t),n.prototype._splitIconName=function(t){if(!t)return["",""];var n=t.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error('Invalid icon name: "'+t+'"')}},n.prototype.ngOnChanges=function(t){var n=this;if(t.svgIcon)if(this.svgIcon){var e=this._splitIconName(this.svgIcon);this._iconRegistry.getNamedSvgIcon(e[1],e[0]).pipe(Object(U.a)(1)).subscribe(function(t){return n._setSvgElement(t)},function(t){return console.log("Error retrieving icon: "+t.message)})}else this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()},n.prototype.ngOnInit=function(){this._usingFontIcon()&&this._updateFontIconClasses()},n.prototype._usingFontIcon=function(){return!this.svgIcon},n.prototype._setSvgElement=function(t){this._clearSvgElement(),this._elementRef.nativeElement.appendChild(t)},n.prototype._clearSvgElement=function(){for(var t=this._elementRef.nativeElement,n=t.childNodes.length,e=0;e<n;e++)t.removeChild(t.childNodes[e])},n.prototype._updateFontIconClasses=function(){if(this._usingFontIcon()){var t=this._elementRef.nativeElement,n=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();n!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),n&&t.classList.add(n),this._previousFontSetClass=n),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}},n}(function(t,n){return function(t){function e(){for(var e=[],l=0;l<arguments.length;l++)e[l]=arguments[l];var i=t.apply(this,e)||this;return i.color=n,i}return Object(L.c)(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){var e=t||n;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),e&&this._elementRef.nativeElement.classList.add("mat-"+e),this._color=e)},enumerable:!0,configurable:!0}),e}(function(t){this._elementRef=t})}()),st=function(){},rt=w.Z({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}"],data:{}}),ut=w.Z({encapsulation:2,styles:[[".item-view-container{max-width:600px;width:100%;border:1px solid #fff;border-radius:3px;background:#fff}.item-header{margin:16px}.author div{font-size:14px;font-weight:700}.author div:not(:first-child){font-weight:400}.image-container{max-width:600px;max-height:600px;overflow:hidden;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100vw}.image{width:100%;height:100%}.actions mat-icon{color:rgba(0,0,0,.3)}.actions mat-icon:hover{color:rgba(0,0,0,.8);cursor:pointer}.actions mat-icon:not(:last-child){margin-right:8px}.bottom-content{margin:16px;line-height:1.4em}.votes{font-weight:600;margin:8px 0}.comments{margin:14px 0;color:rgba(0,0,0,.55)}"]],data:{}}),at=e("xIGM").a.Set||function(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}(),ct=function(){function t(t,n){this.keySelector=t,this.flushes=n}return t.prototype.call=function(t,n){return n.subscribe(new ht(t,this.keySelector,this.flushes))},t}(),ht=function(t){function n(n,e,l){t.call(this,n),this.keySelector=e,this.values=new at,l&&this.add(Object(X.a)(this,l))}return Object(L.c)(n,t),n.prototype.notifyNext=function(t,n,e,l,i){this.values.clear()},n.prototype.notifyError=function(t,n){this._error(t)},n.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},n.prototype._useKeySelector=function(t){var n,e=this.destination;try{n=this.keySelector(t)}catch(t){return void e.error(t)}this._finalizeNext(n,t)},n.prototype._finalizeNext=function(t,n){var e=this.values;e.has(t)||(e.add(t),this.destination.next(n))},n}(K.a),pt=e("GTlS"),ft=new(e("wclm").a)(pt.a),dt={leading:!0,trailing:!1},_t=function(){function t(t,n,e,l){this.duration=t,this.scheduler=n,this.leading=e,this.trailing=l}return t.prototype.call=function(t,n){return n.subscribe(new mt(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),mt=function(t){function n(n,e,l,i,o){t.call(this,n),this.duration=e,this.scheduler=l,this.leading=i,this.trailing=o,this._hasTrailingValue=!1,this._trailingValue=null}return Object(L.c)(n,t),n.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(c,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},n.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},n}(P.a),gt=function(){function t(){var t=this;this.items=[],this.loadMore=new w.m,this.runwayHeight=1e4,this.visibleItems=[],this.topPosition=0,this.onScroll$=new w.m,this.DEFAULT_HEIGHT=800,this.START_OFFSET=-1,this.END_OFFSET=4,this.startIndex=0,this.endIndex=this.startIndex+this.END_OFFSET,this.heightAppenderStack=[],this.childHeight$=new w.m,this.averageHeight=function(){return t.heightAppenderStack.reduce(function(t,n){return t+n},0)/t.heightAppenderStack.length||t.DEFAULT_HEIGHT}}return t.prototype.ngOnInit=function(){var t=this;this.updateVisibleItems(),this.childHeight$.pipe(function(t){return t.lift(new ct(void 0,void 0))}).subscribe(function(n){t.heightAppenderStack.push(n),t.runwayHeight=t.items.length*t.averageHeight()}),this.onScroll$.pipe(function(t,n,e){return void 0===n&&(n=ft),void 0===e&&(e=dt),function(t){return t.lift(new _t(100,n,e.leading,e.trailing))}}()).subscribe(function(){return t.calculateVisibleItems()})},t.prototype.ngOnChanges=function(){this.calculateVisibleItems(),this.runwayHeight=this.items.length*this.averageHeight()},t.prototype.calculateVisibleItems=function(){var t=this.scrollableArea.nativeElement.scrollTop;if(this.children&&this.children.first){var n=this.children.first.nativeElement.clientHeight;n&&this.childHeight$.emit(n)}var e=Math.floor(t/this.averageHeight()),l=e+this.END_OFFSET;e<0&&(e=0),l>=this.items.length-1&&(l=this.items.length-1),this.startIndex=e+this.START_OFFSET<=0?0:e+this.START_OFFSET,this.endIndex=l,this.topPosition=this.startIndex*this.averageHeight(),this.updateVisibleItems()},t.prototype.updateVisibleItems=function(){this.visibleItems=this.items.slice(this.startIndex,this.endIndex),this.endIndex>=this.items.length-1&&this.loadMore.emit()},t}(),vt=w.Z({encapsulation:0,styles:[["[_nghost-%COMP%]{width:100%}.scrollable-area[_ngcontent-%COMP%]{overflow:auto;height:100vh;width:100%}.runway[_ngcontent-%COMP%]{position:relative}.view-port[_ngcontent-%COMP%]{position:absolute;width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"]],data:{}});!function(t){t.LIST="[Listing] List",t.LIST_COMPLETE="[Listing] List Complete"}(b||(b={}));var yt=function(){return function(t){this.payload=t,this.type=b.LIST}}(),bt=function(){return function(t){this.payload=t,this.type=b.LIST_COMPLETE}}(),wt=(e("2soc"),e("ADVA")),It=(e("p5Ee"),Object(wt.C)("listingState")),St=_(It,function(t){return t.listings}),xt=_(It,function(t){return t.continuationToken}),Ct=function(){function t(t){var n=this;this.store=t,this.listing$=this.store.select(St),this.store.select(xt).subscribe(function(t){return n.token=t})}return t.prototype.ngOnInit=function(){this.store.dispatch(new yt)},t.prototype.onLoadMore=function(){this.store.dispatch(new yt(this.token))},t}(),Et=w.Z({encapsulation:0,styles:[[".listings[_ngcontent-%COMP%]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center}"]],data:{}}),Ot=w.X("app-list-view",Ct,function(t){return w._21(0,[(t()(),w._1(0,0,null,null,1,"app-list-view",[],null,null,null,v,Et)),w._0(1,114688,null,0,Ct,[wt.n],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),Ft=e("UHIZ"),kt=function(){},jt=this&&this.__assign||Object.assign||function(t){for(var n,e=1,l=arguments.length;e<l;e++){n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Tt={listings:[],continuationToken:void 0},At=function(){},Lt=(e("8ofh"),e("NePw"),e("3iOE"),e("Oryw"),e("d3pa"),e("Bk5J"),e("8JPw"),e("x4z8"),e("PAZ8"),e("JDrH"),e("GI3C"),e("2kvl"),e("D0q/"),e("ogaK"),e("LaOa"),e("Ropm"),e("2xqx"),e("IWlW"),e("xEhG"),e("nyhy"),e("tK9/"),e("8Gud"),e("bywS"),e("wP3s"),e("LHF8"),e("YRqN"),e("X9X7"),e("JHvW"),e("2yHI"),e("eoFs"),e("Gcw1"),e("Upor"),e("jaVc"),e("RWQz"),e("nAqi"),e("Ry8D"),e("8Ut3"),e("5jKg")),Nt=(e("ltvI"),e("fxt9"),Error,e("Dxsx"),e("X3fp"),function(){function t(t,n){this.baseUrl=t,this.http=n}return t.prototype.get=function(t){var n=this;return void 0===t&&(t=""),this.http.get(this.baseUrl+".json?raw_json=1&after="+t).pipe(Object(q.a)(function(t){return n.mapResponse(t)}))},t.prototype.mapResponse=function(t){var n=this;return console.log(t),t.data.children.map(function(t){return{name:t.data.name,title:t.data.title,url:t.data.url,author:t.data.author,subreddit:t.data.subreddit_name_prefixed,score:t.data.score,numOfcomments:t.data.num_comments,previewImageUrl:n.getImage(t.data)}})},t.prototype.getImage=function(t){if(t.preview&&t.preview.images&&t.preview.images.length){var n=t.preview.images[0].resolutions,e=n[Math.min(n.length-1,3)];return e?e.url:void 0}},t}()),Mt=e("c8o8"),Rt=e("Tl+Y"),Ut=function(){function t(t,n){var e=this;this.actions$=t,this.service=n,this.list$=this.actions$.ofType(b.LIST).pipe(Object(q.a)(Rt.d),Object(Lt.a)(function(t){return e.service.get(t).pipe(Object(q.a)(function(t){return new bt(t)}))}))}return Object(L.b)([Object(Rt.b)(),Object(L.d)("design:type",B.a)],t.prototype,"list$",void 0),t}(),Ht=function(){};e.d(n,"ListingModuleNgFactory",function(){return Vt});var Vt=w.Y(I,[],function(t){return w._10([w._11(512,w.j,w.U,[[8,[Ot]],[3,w.j],w.v]),w._11(4608,k.m,k.l,[w.s,[2,k.s]]),w._11(6144,j,null,[k.d]),w._11(4608,T,T,[[2,j]]),w._11(5120,it,o,[[3,it],[2,W.c],N.c]),w._11(512,k.c,k.c,[]),w._11(512,Ft.n,Ft.n,[[2,Ft.t],[2,Ft.m]]),w._11(512,kt,kt,[]),w._11(1024,wt.j,function(){return[{key:"listingState",reducerFactory:wt.A,metaReducers:[],initialState:void 0}]},[]),w._11(1024,wt.r,function(){return[y]},[]),w._11(1024,wt.s,function(t){return[t]},[wt.r]),w._11(1024,wt.b,function(t,n,e){return[wt.x(t,n,e)]},[w.p,wt.r,wt.s]),w._11(131584,wt.o,wt.o,[wt.j,wt.b,wt.g]),w._11(512,A,A,[]),w._11(256,M,!0,[]),w._11(512,R,R,[[2,M]]),w._11(512,st,st,[]),w._11(512,At,At,[]),w._11(512,Nt,Nt,[Mt.a,W.c]),w._11(512,Ut,Ut,[Rt.a,Nt]),w._11(1024,Rt.j,function(t){return[Rt.e(t)]},[Ut]),w._11(512,Rt.h,Rt.h,[Rt.g,Rt.j,[2,wt.p]]),w._11(512,Ht,Ht,[]),w._11(512,I,I,[]),w._11(1024,Ft.k,function(){return[[{path:"",component:Ct}]]},[])])})}});